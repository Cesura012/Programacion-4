"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3633],{64094:function(e,t,n){n.d(t,{vp:function(){return T},st:function(){return v},AW:function(){return E},fS:function(){return d},z9:function(){return m},Xr:function(){return N},O_:function(){return c},Z5:function(){return f},_m:function(){return _},K9:function(){return p}});var r=n(82526),i=n(60869),o=n(77715),a=n(45357);let l=[a.TEAM_PLAN_TYPE.CUSTOM,a.plan.PRO,a.plan.STANDARD,a.plan.BASIC,a.plan.FREEPLUS,a.plan.FREE];var u=function(e,t){if(t<=0||t>=1)throw Error("Accuracy must be > 0 and < 1.");let n=Math.sign(e);-1===n&&(e=Math.abs(e));let r=0===n?t:e*t,i=Math.floor(e);if((e-=i)<r)return[n*i,1];if(1-r<e)return[n*(i+1),1];let o=0,a=1,l=1,u=1;for(;;){let t=o+l,s=a+u;if(s*(e+r)<t)l=t,u=s;else{if(!(t<(e-r)*s))return[i*s+t*n,s];o=t,a=s}}},s=n(10390);let c=e=>{var t,n;let{definition:r,imageInputType:a}=e;return a===o.N.Img2Img?{min:i.INIT_IMAGE_STRENGTH_MIN_VALUE,max:i.INIT_IMAGE_STRENGTH_MAX_VALUE,step:i.INIT_IMAGE_STRENGTH_STEP_VALUE,default:i.INIT_IMAGE_STRENGTH_DEFAULT_VALUE}:a===o.N.ImagePrompt?{min:i.IMAGE_PROMPT_STRENGTH_MIN_VALUE,max:i.IMAGE_PROMPT_STRENGTH_MAX_VALUE,step:i.IMAGE_PROMPT_STRENGTH_STEP_VALUE,default:i.IMAGE_PROMPT_STRENGTH_DEFAULT_VALUE}:{min:null!==(t=null==r?void 0:r.weightMin)&&void 0!==t?t:i.CONTROLNET_STRENGTH_MIN_VALUE,max:null!==(n=null==r?void 0:r.weightMax)&&void 0!==n?n:i.CONTROLNET_STRENGTH_MAX_VALUE,step:i.CONTROLNET_STRENGTH_STEP_VALUE,default:i.CONTROLNET_STRENGTH_DEFAULT_VALUE}},d=e=>c({imageInputType:e}).default,E=e=>{let{weight:t,...n}=e,r=c(n);return Math.max(r.min,Math.min(t,r.max))},T=e=>{let{width:t,height:n}=e;if(!n)return{numerator:0,denominator:0,error:0};let r=t/n,[i,o]=u(r,.05),a=Math.abs(r-i/o);return{numerator:i,denominator:o,error:a}},_=e=>{let{imageInputs:t,imageInput:n,imageInputIdx:i,imageInputLimit:a,usingLeonardoMagic:l,usingAlchemy:u,inputBaseModel:c,currentSdVersion:d,leonardoMagicVersion:E,usingPhotoReal:T}=e,_=u&&l&&E===r.PROMPT_MAGIC_VERSIONS.v3;if(!n)return!1;if((0,s.Wm)(d))return"You cannot use image to image inputs with Stable Diffusion V3";if(void 0!==a&&i>=a)return 1===a?"You can only have ".concat(a," image guidance input enabled. Please remove this image input."):"You can only have ".concat(a," image guidance inputs enabled. Please remove this image input.");if(l&&E===r.PROMPT_MAGIC_VERSIONS.v2)switch(n.type){case o.N.ControlNet:return"You cannot use controlnet inputs with Prompt Magic v2.";case o.N.Img2Img:return"You cannot use image to image inputs with Prompt Magic v2.";case o.N.ImagePrompt:return!0}else if(n.type===o.N.ImagePrompt)return"Image Prompts require Prompt Magic V2";return n.type===o.N.Img2Img?t.filter(e=>e.type===o.N.Img2Img&&e.isEnabled).length>1?"You can only have one Image to image input enabled.":!(0,s.dU)(d)&&!T&&!_||!t.find(e=>e.type===o.N.ControlNet)||"Image to Image cannot be combined with other image guidance for XL models, PhotoReal and PMv3.":c?_?!!(!c||(0,s.dU)(c))||"Only SDXL ControlNets can be used with Prompt Magic V3":T?!!(!c||(0,s.dU)(c))||"Only SDXL ControlNets can be used with PhotoReal":(0,s.dU)(d)?!!(!c||(0,s.dU)(c))||"This ControlNet isn't compatible with the selected model.":!!(!c||c===d)||"This ControlNet isn't compatible with the selected model.":"This ControlNet isn't compatible with the selected model."},A=e=>{let{inputBaseModel:t,usingLeonardoMagic:n,leonardoMagicVersion:i,usingAlchemy:o,usingPhotoReal:a,currentSdVersion:l}=e;if(!t)return!1;let u=o&&n&&i===r.PROMPT_MAGIC_VERSIONS.v3;return a||u||(0,s.dU)(l)?(0,s.dU)(t):!t||t===l},I=e=>{let{controlnet:t,usingLeonardoMagic:n,leonardoMagicVersion:i}=e;return n&&i===r.PROMPT_MAGIC_VERSIONS.v2?[!0,"Prompt Magic v2 is currently incompatible with controlnets, disable it to use this option."]:[!1]},f=e=>{let{imageInputDefinitions:t,usingPhotoReal:n,usingAlchemy:r,usingLeonardoMagic:i,leonardoMagicVersion:o,currentSdVersion:a}=e;return(t||[]).filter(e=>e.preprocessors.find(e=>A({usingPhotoReal:n,usingAlchemy:r,usingLeonardoMagic:i,leonardoMagicVersion:o,currentSdVersion:a,inputBaseModel:e.preprocessorBaseModel}))).map(e=>e.preprocessors.filter(e=>A({usingPhotoReal:n,usingAlchemy:r,usingLeonardoMagic:i,leonardoMagicVersion:o,currentSdVersion:a,inputBaseModel:e.preprocessorBaseModel})).filter(e=>!(e.preprocessorName||"").includes("Zoe")||(0,s.dU)(e.preprocessorBaseModel)).map(t=>{let[n,r]=I({controlnet:e,usingLeonardoMagic:i,leonardoMagicVersion:o});return{...t,...e,isDisabled:n,disabledTooltip:r}})).flat()},v=(e,t)=>{let n=l.indexOf(e);if(!t.availableToPlan)return!0;let r=l.indexOf(t.availableToPlan);return -1!==n&&r>=n},p=e=>{let{preprocessor:t,controlNetMatch:n,usingPhotoReal:i,usingAlchemy:o,usingLeonardoMagic:a,leonardoMagicVersion:l,currentSdVersion:u,matchAnyProcessorModelVersion:c}=e,d=t.preprocessorName===n.preprocessorName,E=t.preprocessorBaseModel===u;if(c)return d;let T=o&&a&&l===r.PROMPT_MAGIC_VERSIONS.v3;return i||T||(0,s.dU)(u)?d&&(0,s.dU)(t.preprocessorBaseModel):d&&E},m=(e,t)=>{if(e&&t.imageInputDefinitions&&e.type===o.N.ControlNet)return t.imageInputDefinitions.find(t=>{var n;return t.controlnetType===(null==e?void 0:null===(n=e.match)||void 0===n?void 0:n.controlnetType)})},N=e=>{var t;let{currentSdVersion:n,leonardoMagicVersion:r,usingAlchemy:i,usingLeonardoMagic:a,usingPhotoReal:l,canChangeToImagePrompt:u,canChangeToImg2Img:s,imageInputDefinitions:d,currentPlan:E}=e,T=f({imageInputDefinitions:d,currentSdVersion:n,leonardoMagicVersion:r,usingAlchemy:i,usingLeonardoMagic:a,usingPhotoReal:l}).sort((e,t)=>{let n=e.name,r=t.name;return n<r?-1:n>r?1:0});if(u||s){let e=u?o.N.ImagePrompt:o.N.Img2Img;return{type:e,weighting:c({imageInputType:e}).default}}let _=T.find(e=>!!A({usingPhotoReal:l,usingAlchemy:i,usingLeonardoMagic:a,leonardoMagicVersion:r,currentSdVersion:n,inputBaseModel:e.preprocessorBaseModel})&&v(E,e));if(!_){let e=u?o.N.ImagePrompt:o.N.Img2Img;return{type:e,weighting:c({imageInputType:e}).default}}return{type:o.N.ControlNet,match:{preprocessorName:null!==(t=_.preprocessorName)&&void 0!==t?t:void 0,controlnetType:_.controlnetType},weighting:c({imageInputType:o.N.ControlNet,definition:_}).default}}},27434:function(e,t,n){n.d(t,{R:function(){return r},f:function(){return i}});let r={isStoryboard:{_eq:!1}},i={universalUpscaler:{_is_null:!0}}},38310:function(e,t,n){n.d(t,{lC:function(){return H},Be:function(){return h},GU:function(){return ed},mQ:function(){return eE},zd:function(){return p},cY:function(){return el},Sx:function(){return k},OP:function(){return q},hr:function(){return eo},_3:function(){return S},M4:function(){return K},tg:function(){return $},aW:function(){return O},pX:function(){return f},vq:function(){return v},Fx:function(){return I},Cv:function(){return g},BW:function(){return C},Zh:function(){return L},ju:function(){return P},oo:function(){return eu},_B:function(){return eT},ro:function(){return y},M:function(){return b},U8:function(){return er},pf:function(){return w},RN:function(){return G},I:function(){return F},X6:function(){return et},E3:function(){return es},vg:function(){return ec},_$:function(){return W},yj:function(){return z},l2:function(){return U},Hv:function(){return J},XL:function(){return en},De:function(){return ee},io:function(){return m},Uw:function(){return M},WE:function(){return function e(t){if(null!==t){if((null==t?void 0:t.constructor.name)==="Object")for(let n in t)t[n]=e(t[n]);return t}}},z3:function(){return B},As:function(){return Y},rl:function(){return R},PV:function(){return Q},wX:function(){return D},a9:function(){return Z}});var r=n(60869),i=n(45357),o=n(89539),a=n.n(o);class l{constructor(){let e,t;this.promise=new Promise((n,r)=>{e=n,t=r}),this.resolve=t=>{e(t)},this.reject=e=>{t(e)}}}var u=n(23464),s=n(10390),c=n(8473),d=n(86907),E=n(64094),T=n(59742),_=n(23663).Buffer;let A=e=>{let t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},I=e=>{let t=A(a()(e).date()),n=a()(e).format("MMMM");return"".concat(t," ").concat(n)},f=e=>a()(e).format("DD/MM/YY [at] h:mm A"),v=e=>a()(e).format("DD MMM YYYY hh:mma"),p=e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+e.substring(1)},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t-3?e:e.substring(0,t-3)+"...":""},N=e=>"object"!=typeof e&&null===e&&"function"!=typeof e&&!Array.isArray(e),O=e=>Object.entries(e).reduce((e,t)=>{let[n,r]=t;return N(r)?e[n]=r:e[n]=JSON.stringify(r),e},{}),C=e=>{switch(!0){case 1===e:return"one second";case e<60:return"".concat(e," seconds");case e<3600:let t=Math.floor(e/60);return 1===t?"1 minute":"".concat(t," minutes");case e<86400:let n=Math.floor(e/3600);return 1===n?"an hour":"".concat(n," hours");default:let r=Math.floor(e/86400);return 1===r?"a day":"".concat(r," days")}},P=e=>{let t=new Date(1e3*e),n=t.getDate(),r="th";switch(n%10){case 1:11!==n&&(r="st");break;case 2:12!==n&&(r="nd");break;case 3:13!==n&&(r="rd")}return new Intl.DateTimeFormat("en-AU",{weekday:"long",day:"numeric",month:"long",hour:"numeric",minute:"numeric",timeZoneName:"short"}).format(t).replace(", ".concat(n," ")," ".concat(n).concat(r," of ")).replace(/\s(am|pm)/,(e,t)=>t.toUpperCase())},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expired";return e>1728e5?Math.floor(e/864e5)+" days":e>72e5?Math.floor(e/36e5)+" hrs":e>12e4?Math.floor(e/6e4)+" mins":e>2e3?Math.floor(e/1e3)+" secs":e>1e3?"1 sec":e>0?"now":t},g=e=>{let t=Date.now();return L(e.getTime()-t)},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Enter";e.key===t&&e.target.blur()},U=e=>{if(!e)return"No title.";let t=e.search(/,|\./gm);return p(m(e.substring(0,-1===t?void 0:t),50))},R=e=>{let{data:t,callback:n,method:r="POST",url:i}=e,{promise:o,resolve:a,reject:u}=new l,s=new XMLHttpRequest;return s.addEventListener("progress",e=>{let t=Math.round(e.loaded/e.total*100),r=e.loaded>=e.total;null==n||n(t,r)}),s.addEventListener("load",()=>{a(s)}),s.addEventListener("error",e=>{console.error("Error while processing XHR request:",e),u(e)}),s.open(r,i),s.send(t),o},S=e=>{var t,n;let r=null===(t=(0,d.YJ)(e.generated_image_variation_generics))||void 0===t?void 0:t.url;return{id:e.id,title:U(e.generation.prompt),prompts:m(e.generation.prompt,150),imageUrl:e.url,motionGifUrl:null==e?void 0:e.motionGIFURL,motionMp4Url:null==e?void 0:e.motionMP4URL,generationId:e.generationId,isLiked:!!(null===(n=e.user_liked_generated_images)||void 0===n?void 0:n.length),likes:(null==e?void 0:e.likeCount)||0,user:e.user,createdAt:e.createdAt,generation:e.generation,generated_image_variation_generics:e.generated_image_variation_generics,conditionalImageUrl:r||e.url,showLatestUpscaledImg:!!r}},M=(e,t)=>V(e,t),V=(e,t)=>{var n,r,i,o,a,l,u;let s=null===(n=e.generations[0])||void 0===n?void 0:n.prompt;return{id:e.id,name:m(e.name),description:m(e.description,150),imageUrl:(null==e?void 0:null===(i=e.generated_image)||void 0===i?void 0:i.url)?null==e?void 0:e.generated_image.url:(null==e?void 0:null===(a=e.generations[0])||void 0===a?void 0:null===(o=a.generated_images[0])||void 0===o?void 0:o.url)?null==e?void 0:null===(u=e.generations[0])||void 0===u?void 0:null===(l=u.generated_images[0])||void 0===l?void 0:l.url:"",imagePrompt:s,user:e.user,createdAt:e.createdAt,isLiked:!!(null===(r=e.user_favourite_custom_models)||void 0===r?void 0:r.length),onClick:()=>t(e.id),instancePrompt:e.instancePrompt,sdVersion:e.sdVersion,coreModel:e.coreModel,modelHeight:e.modelHeight,modelWidth:e.modelWidth,trainingStrength:e.trainingStrength,type:e.type,isNsfw:null==e?void 0:e.nsfw,isPublic:null==e?void 0:e.public,imageCount:e.imageCount}},y=e=>{switch(e){case i.sd_versions.v1_5:return"v".concat(u.CW[i.sd_versions.v1_5]);case i.sd_versions.v2:return"v".concat(u.CW[i.sd_versions.v2]);default:return""}};function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n>=0?Math.min(n,e.length):Math.max(e.length+n+1,0);return[...e.slice(0,r),t,...e.slice(r)]}function Y(e,t){let n=[...e],r=n.findIndex("function"==typeof t?t:e=>e===t);return r>-1&&n.splice(r,1),n}function D(e,t,n){let r=[...e].slice(0,n-1);return r.unshift(t),r}let b=e=>{switch(e){case i.sd_generation_schedulers.KLMS:return"KLMS";case i.sd_generation_schedulers.EULER_ANCESTRAL_DISCRETE:return"Euler Ancestral ";case i.sd_generation_schedulers.EULER_DISCRETE:return"Euler Discrete";case i.sd_generation_schedulers.DDIM:return"DDIM";case i.sd_generation_schedulers.DPM_SOLVER:return"DPM Solver";case i.sd_generation_schedulers.DPM_SDE_SOLVER:return"DPM SDE Solver";case i.sd_generation_schedulers.PNDM:return"PNDM";case i.sd_generation_schedulers.UNIPC:return"UniPC";case i.sd_generation_schedulers.LEONARDO:return"Leonardo";case i.sd_generation_schedulers.DPM_SDE_KARRAS:return"DPM 2M SDE Karras ++";default:throw Error("Error in helpers/getFormattedScheduler: Unknown scheduler: ".concat(e))}},w=e=>{let{width:t,height:n,promptMagicVersion:o,usingTransparency:a,usingAlchemy:l,usingAlchemyV2:s,usingHighRes:c,usingMotion:d,usingPhotoRealV1:E,usingPhotoRealV2:_,usingPromptMagic:A,usingSvd:I}=e,f=t*n;if(a===T.T7i.ForegroundOnly&&(l||s||E||_))return f>1048576?1:f>589824?2:4;if(d||I)return r.MOTION_MAX_OUTPUTS_PER_GENERATION;if(s||_)return f>1055360?1:f>589824?4:8;if(c){if(t>u.vH[3]||n>u.vH[3])return 1;if(t>u.vH[2]||n>u.vH[2])return 2}let v=A&&o===i.PROMPT_MAGIC_VERSIONS.v3||E,p=0;for(;p<u.vH.length;p++){let e=Math.max(t,n);if(e<=(u.vH[p+1]||1/0)&&e>u.vH[p])break}return v?u.uV[p]:u.lc[p]},G=()=>{let e=new Date,t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds();return new Date(e.getTime()+(864e5-(36e5*t+6e4*n+1e3*r))).getTime()},F=()=>{let e=new Date;return e.setUTCMonth(e.getUTCMonth()+1),e.setUTCDate(1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e.getTime()},B=e=>e===c.jX.value?void 0:e,k=e=>e.toLocaleLowerCase().replace(/^[-_]*(.)/,(e,t)=>t.toUpperCase()).replace(/[-_]+(.)/g,(e,t)=>" "+t.toUpperCase()),K=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=()=>{n(r.error)},r.readAsDataURL(e)}),x=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=()=>{n(r.error)},r.readAsText(e)}),j=e=>{let{inputString:t,regexPattern:n,regexModifier:r}=e,i=new RegExp(n,r);return((t||"").match(i)||[]).length},X=async e=>{let t={};for(let n of[["vertex","\nv ","g"],["uv","\nvt ","g"],["normal","\nvn ","g"],["face","\nf ","g"],["group","\ng ","g"],["usemtl","\nusemtl ","g"]])t[n[0]]=j({inputString:e,regexPattern:n[1],regexModifier:n[2]});return t},Z=async e=>{let t=await x(e),n=await X(t),r=t.match(/f .*/gm);if(!(r||[]).length)return{isValid:!1,message:"no faces specified",counts:n};for(let e of(r||[]).map(e=>e.replace(/f /,"")).flatMap(e=>e.split(" ")).map(e=>e.split("/").map(e=>parseInt(e)))){if(e.length>3)return{isValid:!1,message:"more than 3 integers detected for a face vertex",counts:n};if(!e.length)return{isValid:!1,message:"face vertex missing",counts:n};if(e[0]>n.vertex)return{isValid:!1,message:"out of bounds vertex specified ".concat(e[0]),counts:n};if(void 0!==e[1]&&e[1]>n.uv)return{isValid:!1,message:"out of bounds uv specified ".concat(e[1]),counts:n};if(void 0!==e[2]&&e[2]>n.normal)return{isValid:!1,message:"out of bounds normal specified ".concat(e[2]),counts:n}}return{isValid:!0,counts:n}},q=e=>{let t;t=e.split(",")[0].includes("base64")?_.from(e.split(",")[1],"base64"):decodeURIComponent(e.split(",")[1]);let n=e.split(",")[0].split(":")[1].split(";")[0];return new Blob([t],{type:n})},W=e=>{let{data:t,selectedTextureGenId:n}=e;if(!t)return null;let{model_asset_texture_generations:r,...i}=t,o=r.find(e=>e.id===n);return o?{...o,...i}:null},z=e=>{let t={};for(let n of(null==e?void 0:e.model_asset_texture_images)||[]){let e=n.type;t[e]?console.error("duplicate texture type detected in generation",n):t[e]=n.url}return t},J=e=>/^\d+$/.test(e),Q=e=>{let{text:t,wordLimit:n}=e;if(!Number.isInteger(n)||n<1)throw Error("invalid wordLimit argument");if("string"!=typeof t)throw Error("invalid text argument");let r=t.trim().replace(/[ ]{2,}/g," ").split(" "),i=r.slice(0,n).join(" ");return r.length>n?"".concat(i," ..."):i},$=e=>e.replace(/\r?\n|\r/g,""),ee=e=>e===i.SUBSCRIPTION_SOURCE.APPLE,et=e=>({...u.sP,onClick:e}),en=e=>e===i.plan.FREE,er=e=>"loras:".concat(JSON.stringify({akUUID:e})),ei=e=>"controlnet_preprocessor_matrix:".concat(e),eo=(e,t,n)=>n.filter(e=>e.isEnabled).filter(e=>0!==e.weight).filter(n=>{let r=er(n.id),i=e.readFragment({id:r,fragment:T.L1x});return null!=i&&!!i.baseModel&&(0,s.ju)(t,i.baseModel)}),ea=async e=>{var t;let{apolloClient:n,sdVersion:r,usingLeonardoMagic:i,usingAlchemy:o,leonardoMagicVersion:a,usingPhotoReal:l,match:u}=e,s=await n.query({query:T.Ks$}),c=e=>(0,E.K9)({preprocessor:e,controlNetMatch:u,currentSdVersion:r,usingAlchemy:o,usingLeonardoMagic:i,leonardoMagicVersion:a,usingPhotoReal:l}),d=s.data.controlnet_definition.find(e=>e.controlnetType===u.controlnetType&&!!e.preprocessors.find(c));if(!d)return null;let _=d.preprocessors.find(c);return null!==(t=null==_?void 0:_.id)&&void 0!==t?t:null},el=async e=>{let{apolloClient:t,controlnets:n,imageInputs:r,imageInputLimit:i,usingLeonardoMagic:o,usingAlchemy:a,currentSdVersion:l,leonardoMagicVersion:u,usingPhotoReal:s,currentPlan:c}=e,d=(await Promise.all(n.filter(e=>e.isEnabled).map(async e=>{let n=await ea({apolloClient:t,sdVersion:l,match:e.match,usingAlchemy:a,leonardoMagicVersion:u,usingLeonardoMagic:o,usingPhotoReal:s});if(n)return{...e,preprocessorId:n}}))).filter(Boolean),_=d.filter(e=>e.isEnabled).filter(e=>{let n=t.readFragment({id:ei(e.preprocessorId),fragment:T.QXA});return null==n||!n.preprocessorBaseModel});return _.length>0&&await t.query({query:T.Ks$,variables:{where:{id:{_in:_.map(e=>e.preprocessorId)}}}}),d.filter(e=>e.isEnabled).filter((e,n)=>{var d;let _=ei(e.preprocessorId),A=t.readFragment({id:_,fragment:T.QXA}),I=null==A?void 0:A.preprocessorBaseModel;if(!I||!A)return!1;let f=!0===(0,E._m)({imageInput:e,imageInputIdx:n,imageInputs:r,imageInputLimit:i,usingLeonardoMagic:o,usingAlchemy:a,inputBaseModel:I,currentSdVersion:l,leonardoMagicVersion:u,usingPhotoReal:s}),v=(0,E.st)(c,{availableToPlan:null!==(d=A.availableToPlan)&&void 0!==d?d:void 0});return f&&v})},eu=()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),es=()=>{var e,t;return(null===(t=window)||void 0===t?void 0:null===(e=t.Rewardful)||void 0===e?void 0:e.coupon)||void 0},ec=()=>{var e,t;return(null===(t=window)||void 0===t?void 0:null===(e=t.Rewardful)||void 0===e?void 0:e.referral)||void 0},ed=e=>e?{team:{akUUID:{_eq:e}}}:{teamId:{_is_null:!0}},eE=e=>e?{teamId:{_eq:e}}:{teamId:{_is_null:!0}},eT=e=>{var t;let n=null===(t=e.teams)||void 0===t?void 0:t.find(t=>t.akUUID===e.selectedTeam);return(null==n?void 0:n.plan)||e.plan}},10390:function(e,t,n){n.d(t,{Dg:function(){return p},GK:function(){return C},Nu:function(){return A},Nz:function(){return l},VG:function(){return u},VU:function(){return L},Wm:function(){return s},b5:function(){return m},bo:function(){return c},dU:function(){return _},gd:function(){return d},ju:function(){return O},mA:function(){return E},p3:function(){return I},r9:function(){return v},xn:function(){return T},y0:function(){return P},z6:function(){return f}});var r=n(60869),i=n(45357),o=n(23464);let a=e=>e===r.LEONARDO_MOTION_MODEL_ID,l=e=>o.mz.includes(e),u=e=>e===i.sd_versions.v2,s=e=>e===i.sd_versions.v3,c=e=>o.Sc.includes(e),d=e=>a(e)?i.sd_generation_style.CREATIVE:c(e)?i.sd_generation_style.LEONARDO:i.sd_generation_style.NONE,E=e=>o.QL.includes(e),T=e=>E(e),_=e=>e===i.sd_versions.SDXL_0_8||e===i.sd_versions.SDXL_0_9||e===i.sd_versions.SDXL_1_0||e===i.sd_versions.SDXL_LIGHTNING,A=e=>e===i.sd_versions.SDXL_LIGHTNING,I=e=>_(e),f=e=>e===r.MODEL_IDS.PHOTOREAL,v=e=>!!Object.values(r.PhotoRealV2Models).find(t=>t.id===e),p=e=>f(e)||v(e),m=e=>{var t;return(null===(t=Object.values(r.PhotoRealV2Models).find(t=>t.id===e))||void 0===t?void 0:t.name)||"Unknown Model"},N=e=>r.LORA_MODEL_COMPATIBILITY_MAP[e]?r.LORA_MODEL_COMPATIBILITY_MAP[e]:[],O=(e,t)=>N(e).includes(t),C=e=>{let{modelFamily:t,elementFamily:n,usingPhotoReal:o,photoRealVersion:a}=e;return o&&a!==r.PhotoRealVersion.V2?O(n,i.sd_versions.v1_5):O(n,t)},P=e=>{let{modelFamily:t,usingPhotoReal:n,photoRealVersion:o}=e;return n&&o!==r.PhotoRealVersion.V2?N(i.sd_versions.v1_5):N(t)},L=e=>{let{usingPhotoReal:t,customRequest:n,photoRealVersion:i,modelId:o}=e;if(t&&i===r.PhotoRealVersion.V2||!t&&n)return o}},8473:function(e,t,n){var r,i,o,a,l,u;n.d(t,{TH:function(){return o},es:function(){return r},jX:function(){return i}}),(a=r||(r={})).Upload="upload",a.Generated="generated",(l=i||(i={})).value="ALL",l.label="All",(u=o||(o={})).INPAINT="INPAINT",u.NO_BG="NO_BG",u.OUTPAINT="OUTPAINT",u.UNZOOM="UNZOOM",u.UPSCALE_ALTERNATE="UPSCALE_ALTERNATE",u.UPSCALE_DEFAULT="UPSCALE_DEFAULT",u.UPSCALE_HD="UPSCALE_HD",u.UPSCALE_SMOOTH="UPSCALE_SMOOTH",u.ALCHEMY_REFINER="ALCHEMY_REFINER"},35981:function(e,t,n){n.d(t,{C1:function(){return r},OR:function(){return A},RU:function(){return l},Rp:function(){return i},Sh:function(){return E},dX:function(){return I},m_:function(){return a},oC:function(){return c},r$:function(){return o},sT:function(){return T},ug:function(){return u},xj:function(){return d},xs:function(){return s},zs:function(){return _}});let r="Alchemy Refiner under maintenance",i="Alchemy Upscaler - use this to refine and upscale your images. This can improve faces and hands as part of the process.",o="Alternative Upscale",a="Use this if you find the creative upscale is resulting in lost detail.",l="Creative Upscale",u="This can improve images during the upscaling process, but might make slight changes for better quality outputs.",s="HD Crisp Upscale",c="Alchemy Crisp Upscale",d="A great balanced upscaler which retains a good amount of detail and crispness to the image.",E="HD Smooth Upscale",T="Alchemy Smooth Upscale",_="An upscaler that works well with a focused subject, but can end up smoothing out fine detail.",A="Unzoom (BETA)",I="Remove background"},86907:function(e,t,n){n.d(t,{$m:function(){return ec},Al:function(){return el},Bm:function(){return V},C3:function(){return b},Cn:function(){return eu},Eg:function(){return G},HQ:function(){return i},Je:function(){return T},KY:function(){return _},Kb:function(){return ed},NC:function(){return P},No:function(){return R},Oi:function(){return C},P:function(){return w},QV:function(){return F},R6:function(){return D},SW:function(){return et},UI:function(){return S},V6:function(){return y},VP:function(){return ei},Vy:function(){return m},WT:function(){return O},WZ:function(){return ea},XI:function(){return H},YJ:function(){return j},Yl:function(){return en},aO:function(){return eT},cp:function(){return k},dv:function(){return Y},gM:function(){return eA},hH:function(){return ee},io:function(){return B},kL:function(){return p},oj:function(){return x},q7:function(){return M},rJ:function(){return v},rO:function(){return $},s8:function(){return L},t3:function(){return K},tB:function(){return U},tY:function(){return g},tr:function(){return I},u2:function(){return er},ud:function(){return N},ue:function(){return eo},y0:function(){return A},yP:function(){return eE},yW:function(){return es}});var r,i,o=n(60869),a=n(45357),l=n(23464),u=n(38310),s=n(8473),c=n(35981),d=n(27434),E=n(59742);let T=e=>{let{transformType:t}=e;switch(t){case"UNZOOM":return["UPSCALE","NOBG"];case"UPSCALE":return["NOBG"];case"NOBG":return[];default:return["UPSCALE","UNZOOM","NOBG"]}},_=e=>{let{availableVariations:t,variation:n}=e;return t.includes(n)},A=e=>{let{originalImg:t,hasDefaultUpscaledOptions:n,defaultUpscaledOptions:r,hasAlternateUpscaledOptions:i,alternateUpscaledOptions:o,hasHdUpscaledOptions:a,hdUpscaledOptions:u,hasUnzoomedOptions:s,unzoomedOptions:c,hasNoBgOptions:d,noBgOptions:E,hasSmoothUpscaledOptions:T,smoothUpscaledOptions:_,alchemyRefinerOptions:A,hasAlchemyRefinerOptions:I,hasUniversalUpscalerOptions:f,universalUpscalerOptions:v}=e,p=[];return t&&(p.push({value:l.IMAGE_SELECT_VALUES.ORIGINAL,label:"Original Image"}),I&&p.push(...A),f&&p.push(...v),T&&p.push(..._),a&&p.push(...u),i&&p.push(...o),n&&p.push(...r),s&&p.push(...c),d&&p.push(...E)),p},I=e=>null==e?void 0:e.map((e,t)=>({value:"".concat(l.IMAGE_SELECT_VALUES.NO_BG,"-").concat(t),label:"No Background ".concat(0===t?"":1+t++),variationId:e.id})),f=e=>{switch(e){case o.ALCHEMY_REFINER_STRENGTH.Low:return"Low";case o.ALCHEMY_REFINER_STRENGTH.Medium:return"Medium";case o.ALCHEMY_REFINER_STRENGTH.High:return"High"}},v=e=>{let[t]=e.upscale_details,{alchemyRefinerStrength:n,alchemyRefinerCreative:r}=t;if(!n&&!r)return"Alchemy Upscaler Image";let i=f(n);return"Alchemy Upscaler - ".concat(null!=i?i:(null!=n?n:0).toString()," ").concat(r?"Smooth":"Normal")},p=(e,t)=>{let[n]=e.upscale_details,[r]=t.upscale_details;return r.alchemyRefinerCreative===n.alchemyRefinerCreative?r.alchemyRefinerStrength-n.alchemyRefinerStrength:n.alchemyRefinerCreative?1:-1},m=e=>null==e?void 0:e.sort(p).map((e,t)=>({value:"".concat(l.IMAGE_SELECT_VALUES.ALCHEMY_REFINER,"-").concat(t),label:v(e),variationId:e.id})),N=e=>null==e?void 0:e.map((e,t)=>({value:"".concat(l.IMAGE_SELECT_VALUES.UNIVERSAL_UPSCALE,"-").concat(t),label:"Universal Upscaler ".concat(0===t?"":1+t++),variationId:e.id})),O=e=>null==e?void 0:e.reduce((e,t,n)=>t.status!==a.job_status.COMPLETE?e:[...e,{value:"".concat(l.IMAGE_SELECT_VALUES.DEFAULT_UPSCALED,"-").concat(n),label:"Creative Upscaled Image ".concat(0===n?"":1+n++),variationId:t.id}],[]),C=e=>null==e?void 0:e.map((e,t)=>({value:"".concat(l.IMAGE_SELECT_VALUES.ALTERNATE_UPSCALED,"-").concat(t),label:"Alternate Upscaled Image ".concat(0===t?"":1+t++),variationId:e.id})),P=(e,t)=>null==e?void 0:e.map((e,n)=>({value:"".concat(l.IMAGE_SELECT_VALUES.HD_UPSCALED,"-").concat(n),label:"".concat(t?c.oC:c.xs,"d Image ").concat(0===n?"":1+n++),variationId:e.id})),L=(e,t)=>null==e?void 0:e.map((e,n)=>({value:"".concat(l.IMAGE_SELECT_VALUES.SMOOTH_UPSCALED,"-").concat(n),label:"".concat(t?c.sT:c.Sh,"d Image ").concat(0===n?"":1+n++),variationId:e.id})),g=e=>null==e?void 0:e.map((e,t)=>({value:"".concat(l.IMAGE_SELECT_VALUES.UNZOOMED,"-").concat(t),label:"Unzoomed Image ".concat(0===t?"":1+t++),variationId:e.id})),h=e=>{var t,n,r,i,o,a,l;let{generated_image_variation_generics:u,imageVariationType:c}=e;switch(c){case s.TH.ALCHEMY_REFINER:return!!(null===(t=X(u))||void 0===t?void 0:t.length);case s.TH.UPSCALE_DEFAULT:return!!(null===(n=Z(u))||void 0===n?void 0:n.length);case s.TH.UPSCALE_ALTERNATE:return!!(null===(r=q(u))||void 0===r?void 0:r.length);case s.TH.UPSCALE_HD:return!!(null===(i=W(u))||void 0===i?void 0:i.length);case s.TH.UPSCALE_SMOOTH:return!!(null===(o=z(u))||void 0===o?void 0:o.length);case s.TH.UNZOOM:return!!(null===(a=J(u))||void 0===a?void 0:a.length);case s.TH.NO_BG:return!!(null===(l=Q(u))||void 0===l?void 0:l.length);default:throw Error("getHasHitVariationLimit: Unhandled image variation type")}},U=e=>{let t=h({generated_image_variation_generics:e,imageVariationType:s.TH.UPSCALE_DEFAULT}),n=h({generated_image_variation_generics:e,imageVariationType:s.TH.UPSCALE_ALTERNATE}),r=h({generated_image_variation_generics:e,imageVariationType:s.TH.UPSCALE_SMOOTH});return{hasHitLimitUpscaleDefault:t,hasHitLimitUpscaleAlternate:n,hasHitLimitUpscaleSmooth:r,hasHitLimitUpscaleHd:h({generated_image_variation_generics:e,imageVariationType:s.TH.UPSCALE_HD}),hasHitLimitUnzoom:h({generated_image_variation_generics:e,imageVariationType:s.TH.UNZOOM}),hasHitLimitNoBg:h({generated_image_variation_generics:e,imageVariationType:s.TH.NO_BG})}},R=e=>null==e?void 0:e.find(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE),S=e=>null==e?void 0:e.find(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.DEFAULT))}),M=e=>null==e?void 0:e.find(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.ALTERNATE))}),V=e=>null==e?void 0:e.find(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.HD))}),y=e=>null==e?void 0:e.find(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.SMOOTH))}),H=e=>null==e?void 0:e.find(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UNZOOM),Y=e=>null==e?void 0:e.find(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.NOBG),D=e=>(null==e?void 0:e.filter(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE))||[],b=e=>(null==e?void 0:e.filter(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.ALCHEMY_REFINER))}))||[],w=e=>(null==e?void 0:e.filter(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.UNIVERSAL_UPSCALE))}))||[],G=e=>(null==e?void 0:e.filter(e=>{var t,n;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.length)===0||(null===(n=e.upscale_details)||void 0===n?void 0:n.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.DEFAULT))}))||[],F=e=>(null==e?void 0:e.filter(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.ALTERNATE))}))||[],B=e=>(null==e?void 0:e.filter(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.HD))}))||[],k=e=>(null==e?void 0:e.filter(e=>{var t;return e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.SMOOTH))}))||[],K=e=>(null==e?void 0:e.filter(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.UNZOOM))||[],x=e=>(null==e?void 0:e.filter(e=>e.status===a.job_status.COMPLETE&&e.transformType===a.VARIATION_TYPE.NOBG))||[],j=e=>{let t=b(e).sort(p);if(t.length)return t[0];let n=w(e);return n.length?n[0]:R(e)},X=e=>(null==e?void 0:e.filter(e=>{var t,n;return e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.length)===0||(null===(n=e.upscale_details)||void 0===n?void 0:n.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.ALCHEMY_REFINER))}))||[],Z=e=>(null==e?void 0:e.filter(e=>{var t,n;return e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.length)===0||(null===(n=e.upscale_details)||void 0===n?void 0:n.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.DEFAULT))}))||[],q=e=>(null==e?void 0:e.filter(e=>{var t;return e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.ALTERNATE))}))||[],W=e=>(null==e?void 0:e.filter(e=>{var t;return e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.HD))}))||[],z=e=>(null==e?void 0:e.filter(e=>{var t;return e.transformType===a.VARIATION_TYPE.UPSCALE&&(null===(t=e.upscale_details)||void 0===t?void 0:t.some(e=>e.oneClicktype===a.VARIATION_ONECLICK_TYPE.SMOOTH))}))||[],J=e=>(null==e?void 0:e.filter(e=>e.transformType===a.VARIATION_TYPE.UNZOOM))||[],Q=e=>(null==e?void 0:e.filter(e=>e.transformType===a.VARIATION_TYPE.NOBG))||[],$=e=>{let{collection:t,upscaleType:n}=e;return null==t?void 0:t.generated_image_variation_generic.find(e=>e.transformType===a.VARIATION_TYPE.UPSCALE&&e.upscale_details.some(t=>t.oneClicktype===n||0===e.upscale_details.length))},ee=(e,t)=>{var n,r,i,o,a,l,u;if(!t)return;let s=null==e?void 0:null===(r=e.upscale_details)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.upscaleMultiplier,c=null==e?void 0:null===(o=e.upscale_details)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:i.width,d=null==e?void 0:null===(l=e.upscale_details)||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:a.height;if(!t)return;let E=null===(u=t.find(e=>"Resolution"===e.spec))||void 0===u?void 0:u.value,T=c,_=d;if(!c&&!d){if("string"!=typeof E||!s)return;let[e,t]=E.replace("px","").split(" x ");T=Number(e)*s,_=Number(t)*s}return"".concat(T," x ").concat(_,"px")},et=e=>{let{transformType:t,oneClickType:n}=e;switch(t){case a.VARIATION_TYPE.NOBG:return s.TH.NO_BG;case a.VARIATION_TYPE.UNZOOM:return s.TH.UNZOOM;case a.VARIATION_TYPE.INPAINT:return s.TH.INPAINT;case a.VARIATION_TYPE.OUTPAINT:return s.TH.OUTPAINT;case a.VARIATION_TYPE.UPSCALE:switch(n){case a.VARIATION_ONECLICK_TYPE.ALCHEMY_REFINER:return s.TH.ALCHEMY_REFINER;case a.VARIATION_ONECLICK_TYPE.ALTERNATE:return s.TH.UPSCALE_ALTERNATE;case a.VARIATION_ONECLICK_TYPE.HD:return s.TH.UPSCALE_HD;case a.VARIATION_ONECLICK_TYPE.SMOOTH:return s.TH.UPSCALE_SMOOTH;case a.VARIATION_ONECLICK_TYPE.DEFAULT:}default:return s.TH.UPSCALE_DEFAULT}},en=e=>(()=>{switch(e){case s.TH.UNZOOM:return{variation:a.VARIATION_TYPE.UNZOOM};case s.TH.NO_BG:return{variation:a.VARIATION_TYPE.NOBG};case s.TH.UPSCALE_DEFAULT:return{variation:a.VARIATION_TYPE.UPSCALE};case s.TH.UPSCALE_ALTERNATE:return{variation:a.VARIATION_TYPE.UPSCALE,isAlternate:!0};case s.TH.UPSCALE_HD:return{variation:a.VARIATION_TYPE.UPSCALE,isHd:!0};case s.TH.UPSCALE_SMOOTH:return{variation:a.VARIATION_TYPE.UPSCALE,isSmooth:!0};default:throw Error("Unhandled variation type: ".concat(e))}})(),er=e=>{let t,n;let r={},i={id:e.imageId,isVariation:e.isVariation,...e.teamId&&{teamId:e.teamId}};switch(e.variation){case a.VARIATION_TYPE.UNZOOM:n=E.YrX,t="sdUnzoomJob";break;case a.VARIATION_TYPE.NOBG:n=E.QMH,t="sdNobgJob";break;case a.VARIATION_TYPE.UPSCALE:t="sdUpscaleJob",n=E.sVu,r=e.isAlternate?{alternativeUpscale:!0,hdUpscale:!1,smoothUpscale:!1}:e.isHd?{alternativeUpscale:!1,hdUpscale:!0,smoothUpscale:!1}:e.isSmooth?{alternativeUpscale:!1,hdUpscale:!1,smoothUpscale:!0}:{alternativeUpscale:!1,hdUpscale:!1,smoothUpscale:!1};break;default:throw Error("Unsupported variation type ".concat(e.variation))}return{arg1:{...i,...r},mutation:n,mutationResponseKey:t}},ei=e=>{switch(e){case s.TH.UPSCALE_DEFAULT:return a.VARIATION_ONECLICK_TYPE.DEFAULT;case s.TH.UPSCALE_ALTERNATE:return a.VARIATION_ONECLICK_TYPE.ALTERNATE;case s.TH.UPSCALE_HD:return a.VARIATION_ONECLICK_TYPE.HD;case s.TH.UPSCALE_SMOOTH:return a.VARIATION_ONECLICK_TYPE.SMOOTH;default:return null}},eo=e=>{switch(e){case s.TH.UPSCALE_DEFAULT:case s.TH.UPSCALE_ALTERNATE:case s.TH.UPSCALE_HD:case s.TH.UPSCALE_SMOOTH:return a.VARIATION_TYPE.UPSCALE;case s.TH.INPAINT:return a.VARIATION_TYPE.INPAINT;case s.TH.OUTPAINT:return a.VARIATION_TYPE.OUTPAINT;case s.TH.NO_BG:return a.VARIATION_TYPE.NOBG;case s.TH.UNZOOM:return a.VARIATION_TYPE.UNZOOM;default:throw Error("Unhandled image variation type: ".concat(e))}},ea=(e,t)=>({where:{userId:{_eq:e},...(0,u.GU)(t),canvasRequest:{_eq:!1},...d.f,...d.R},userId:e,teamAkUUID:t,limit:l.ZD}),el=e=>e?c.sT:c.Sh,eu=e=>e?c.oC:c.xs,es=e=>e?"Alchemy Smooth Upscale - For images with smooth textures, which includes illustrative, anime, and cartoon-like images - ":"".concat(c.Sh,"r - ").concat(c.zs," - "),ec=e=>e?"Alchemy Crisp Upscale - For images with lots of texture detail, including photos, digital art, and some 3D renders - ":"".concat(c.xs,"r - ").concat(c.xj," - "),ed=(e,t)=>{let n={};return Object.entries(e).forEach(e=>{let[r,i]=e;n[r]=i.filter(e=>{var n;return!(null===(n=t[r])||void 0===n?void 0:n.includes(e))})}),n};(r=i||(i={}))[r.NO_BG=0]="NO_BG",r[r.ALCHEMY_REFINER=1]="ALCHEMY_REFINER",r[r.UNIVERSAL_UPSCALER=2]="UNIVERSAL_UPSCALER",r[r.INSTANT_REFINE=3]="INSTANT_REFINE",r[r.DEFAULT_UPSCALE=4]="DEFAULT_UPSCALE",r[r.ALTERNATE_UPSCALE=5]="ALTERNATE_UPSCALE",r[r.HD_UPSCALE=6]="HD_UPSCALE",r[r.SMOOTH_UPSCALE=7]="SMOOTH_UPSCALE",r[r.UNZOOM=8]="UNZOOM";let eE={0:"No Background",1:e=>v(e),2:"Universal Upscaler",3:"Instant Refine Image",4:"Creative Upscaled Image",5:"Alternate Upscaled Image",6:(e,t)=>"".concat(t?c.oC:c.xs,"d Image"),7:(e,t)=>"".concat(t?c.sT:c.Sh,"d Image"),8:"Unzoomed Image"},eT=e=>{switch(e.transformType){case a.VARIATION_TYPE.UNZOOM:return 8;case a.VARIATION_TYPE.NOBG:return 0;case a.VARIATION_TYPE.UPSCALE:switch(e.upscale_details[0].oneClicktype){case a.VARIATION_ONECLICK_TYPE.ALCHEMY_REFINER:return 1;case a.VARIATION_ONECLICK_TYPE.ALTERNATE:return 5;case a.VARIATION_ONECLICK_TYPE.DEFAULT:return 4;case a.VARIATION_ONECLICK_TYPE.HD:return 6;case a.VARIATION_ONECLICK_TYPE.INSTANT_REFINE:return 3;case a.VARIATION_ONECLICK_TYPE.SMOOTH:return 7;case a.VARIATION_ONECLICK_TYPE.UNIVERSAL_UPSCALE:return 2}}return 4},e_=e=>{switch(e){case a.VARIATION_TYPE.OUTPAINT:return"Outpaint";case a.VARIATION_TYPE.INPAINT:return"Inpaint";case a.VARIATION_TYPE.UPSCALE:return"Upscale";case a.VARIATION_TYPE.UNZOOM:return"Unzoom";case a.VARIATION_TYPE.NOBG:case s.TH.NO_BG:return"No Background";case a.VARIATION_ONECLICK_TYPE.HD:case a.VARIATION_ONECLICK_TYPE.SMOOTH:case s.TH.UPSCALE_HD:case s.TH.UPSCALE_SMOOTH:return"Alchemy Upscaler";case a.VARIATION_ONECLICK_TYPE.ALCHEMY_REFINER:return"Alchemy Refiner";case a.VARIATION_ONECLICK_TYPE.UNIVERSAL_UPSCALE:return"Universal Upscaler";case a.VARIATION_ONECLICK_TYPE.INSTANT_REFINE:return"Instant Refine";default:return"Variation"}},eA=e=>{var t,n,r;if(!e)return{};let i=null===(t=e.generation)||void 0===t?void 0:t.imageWidth,o=null===(n=e.generation)||void 0===n?void 0:n.imageHeight;return null===(r=e.generated_image_variation_generics)||void 0===r?void 0:r.reduce((e,t)=>{var n,r;let l=null==t?void 0:null===(n=t.upscale_details)||void 0===n?void 0:n[0],u=(null==l?void 0:l.oneClicktype)||(null==t?void 0:t.transformType);if(!u)return e;let s=(null==l?void 0:l.alchemyRefinerCreative)||(null==l?void 0:l.oneClicktype)===a.VARIATION_ONECLICK_TYPE.SMOOTH?"Smooth":(null==l?void 0:l.oneClicktype)===a.VARIATION_ONECLICK_TYPE.HD?"Crisp":void 0,c={id:t.id,label:e_(u),name:"".concat((null===(r=e[u])||void 0===r?void 0:r.length)>0?"#".concat(e[u].length+1," "):"").concat(e_(u)),width:(null==l?void 0:l.width)||i,height:(null==l?void 0:l.height)||o,...s&&{alchemyRefinerMode:s},...(null==l?void 0:l.creativityStrength)&&{creativityStrength:null==l?void 0:l.creativityStrength},...(null==l?void 0:l.optional_metadata)&&{upscalerStyle:null==l?void 0:l.optional_metadata},...(null==l?void 0:l.upscaleMultiplier)&&{upscaleMultiplier:null==l?void 0:l.upscaleMultiplier},...(null==l?void 0:l.alchemyRefinerStrength)&&{alchemyRefinerStrength:f(null==l?void 0:l.alchemyRefinerStrength)}};return{...e,[u]:[...e[u]||[],c]}},{ORIGINAL:[{id:e.id,label:"Original",name:"Original",width:i,height:o}]})}},77715:function(e,t,n){var r,i;n.d(t,{N:function(){return r}}),(i=r||(r={})).ControlNet="CONTROLNET",i.ImagePrompt="IMAGE_PROMPT",i.Img2Img="IMG_2_IMG"}}]);